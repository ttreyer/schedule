<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Schedules</title>
        <link rel="shortcut icon" href="/favicon.ico?v=2">
        <link rel="apple-touch-icon" href="/favicon.png?v=2">
        <link rel="stylesheet" href="schedule.css">
    </head>
    <body>
        <script>
            let getInitialColorMode = () => {
                const persistedColorPreference = window.localStorage.getItem('color-mode')
                const hasPersistedPreference = typeof persistedColorPreference === 'string'

                if (hasPersistedPreference)
                    return persistedColorPreference

                const mql = window.matchMedia('(prefers-color-scheme: dark)')
                const hasMediaQueryPreference = typeof mql.matches === 'boolean'

                if (hasMediaQueryPreference)
                    return mql.matches ? 'dark' : 'light'

                return 'light'
            }

            const colorMode = getInitialColorMode()
            const body = document.querySelector('body')
            body.classList.add(colorMode)
        </script>

        <div class="people"></div>
        <button id="btn-color-mode"></button>
        <div class="chart"></div>

        <style id="style-to-remove">
            /* Disable transition during page load to prevent style flashing */
            * {
                transition: none !important;
            }
        </style>

        <script>
            let toggleColorMode = () => {
                const currentColorMode = getInitialColorMode()
                const invertColorMode = currentColorMode === 'light' ? 'dark' : 'light'

                window.localStorage.setItem('color-mode', invertColorMode)
                body.classList.remove(currentColorMode)
                body.classList.add(invertColorMode)
            }

            document.querySelector('#btn-color-mode')
                    .addEventListener('click', toggleColorMode)
            document.addEventListener('DOMContentLoaded', () => document.querySelector('#style-to-remove').remove())
        </script>

        <script src="schedule.js"></script>
        <script>
            let data = [{
                "name": "Monday", "conflicts": 3, "courses": [
                    { "name": "Concurrent algorithms", "type": "course", "rooms": ["INM202"], "start": 8, "end": 10, "members": ["Romain"], "col": 0 },
                    { "name": "Decentralized systems engineering", "type": "course", "rooms": ["INR113"], "start": 10, "end": 12, "members": ["Romain"], "col": 0 },
                    { "name": "Digital 3D geometry processing", "type": "course", "rooms": ["INF119"], "start": 14, "end": 16, "members": ["Tim"], "col": 0 },
                    { "name": "Digital communication: a hands-on approach", "type": "course", "rooms": ["INF119"], "start": 10, "end": 12, "members": ["Alvaro"], "col": 1 },
                    { "name": "ICC Java", "type": "work", "rooms": ["CO021"], "start": 13, "end": 16, "members": ["Lucie"], "col": 1 },
                    { "name": "Distributed algorithms", "type": "course", "rooms": ["CM1"], "start": 15, "end": 17, "members": ["Kim", "Tim"], "col": 2 },
                    { "name": "Distributed algorithms", "type": "exercise", "rooms": ["BC01", "BC02", "BC03"], "start": 17, "end": 18, "members": ["Kim", "Tim"], "col": 2 }]
            },
            {
                "name": "Tuesday", "conflicts": 5, "courses": [
                    { "name": "Distributed algorithms", "type": "course", "rooms": ["CM1"], "start": 8, "end": 10, "members": ["Kim", "Tim", "Mike"], "col": 0 },
                    { "name": "Distributed algorithms", "type": "exercise", "rooms": ["BC01", "BC02", "BC03"], "start": 10, "end": 11, "members": ["Kim", "Tim", "Mike"], "col": 0 },
                    { "name": "Principle of computer systems", "type": "course", "rooms": ["INM10"], "start": 12, "end": 14, "members": ["Thierry", "Romain", "Jon"], "col": 0 },
                    { "name": "Topics in language-based software security", "type": "course", "rooms": ["BC02"], "start": 15, "end": 17, "members": ["Thierry", "Romain", "Jon"], "col": 0 },
                    { "name": "Machine learning", "type": "course", "rooms": ["CO1"], "start": 17, "end": 19, "members": ["Kim", "Jon"], "col": 0 },
                    { "name": "Digital education & learning analytics", "type": "course", "rooms": ["INR113"], "start": 8, "end": 10, "members": ["Alvaro", "Tim", "Lucie"], "col": 1 },
                    { "name": "Digital education & learning analytics", "type": "project", "rooms": ["INR113"], "start": 10, "end": 12, "members": ["Alvaro", "Tim", "Lucie"], "col": 1 },
                    { "name": "Concurrent algorithms", "type": "course", "rooms": ["INM202"], "start": 13, "end": 14, "members": ["Romain"], "col": 1 },
                    { "name": "Concurrent algorithms", "type": "project", "rooms": ["CM4", "SG0211"], "start": 14, "end": 17, "members": ["Romain"], "col": 1 },
                    { "name": "Audio and acoustic signal processing", "type": "course", "rooms": ["INM10"], "start": 10, "end": 12, "members": ["Lucie"], "col": 2 },
                    { "name": "Audio and acoustic signal processing", "type": "exercise", "rooms": ["INR113"], "start": 12, "end": 14, "members": ["Lucie"], "col": 2 },
                    { "name": "Foundation of software", "type": "course", "rooms": ["INM10"], "start": 14, "end": 16, "members": ["Romain"], "col": 2 },
                    { "name": "Foundations and tools for processing tree structured data", "type": "course", "rooms": ["INM11"], "start": 13, "end": 15, "members": ["Kim", "Mike"], "col": 3 },
                    { "name": "Foundations and tools for processing tree structured data", "type": "exercise", "rooms": ["INM11"], "start": 15, "end": 17, "members": ["Kim", "Mike"], "col": 3 },
                    { "name": "Lab in EDA based design", "type": "project", "rooms": ["BC07-08"], "start": 14, "end": 17, "members": ["Jon"], "col": 4 }]
            },
            {
                "name": "Wednesday", "conflicts": 4, "courses": [
                    { "name": "Introduction to natural langage processing", "type": "course", "rooms": ["INM202"], "start": 8, "end": 10, "members": ["Lucie", "Jon"], "col": 0 },
                    { "name": "Introduction to natural langage processing", "type": "exercise", "rooms": ["CO020"], "start": 10, "end": 12, "members": ["Lucie", "Jon"], "col": 0 },
                    { "name": "Intelligent agents", "type": "course", "rooms": ["CM4"], "start": 13, "end": 16, "members": ["Rehan"], "col": 0 },
                    { "name": "Audio and acoustic signal processing", "type": "course", "rooms": ["INM10"], "start": 9, "end": 10, "members": ["Lucie"], "col": 1 },
                    { "name": "Foundation of software", "type": "exercise", "rooms": ["CO020"], "start": 10, "end": 12, "members": ["Romain"], "col": 1 },
                    { "name": "Cryptography and security", "type": "course", "rooms": ["CM5"], "start": 9, "end": 11, "members": ["Alvaro", "Jon"], "col": 2 },
                    { "name": "Digital communication: a hands-on approach", "type": "project", "rooms": ["INF119"], "start": 11, "end": 13, "members": ["Alvaro"], "col": 2 },
                    { "name": "Audio", "type": "course", "rooms": ["ELA2"], "start": 9, "end": 12, "members": ["Lucie"], "col": 3 }]
            },
            {
                "name": "Thursday", "conflicts": 5, "courses": [
                    { "name": "Image processing I", "type": "course", "rooms": ["CM1"], "start": 10, "end": 12, "members": ["Thierry", "Lucie", "Mike", "Jon"], "col": 0 },
                    { "name": "Image processing I", "type": "exercise", "rooms": ["CM1"], "start": 12, "end": 13, "members": ["Thierry", "Lucie", "Mike", "Jon"], "col": 0 },
                    { "name": "Principle of computer systems", "type": "course", "rooms": ["INM10"], "start": 13, "end": 15, "members": ["Thierry", "Romain", "Jon"], "col": 0 },
                    { "name": "Quantum information processing", "type": "work", "rooms": ["BC04"], "start": 15, "end": 17, "members": ["Lucie"], "col": 0 },
                    { "name": "Applied data analysis", "type": "course", "rooms": ["SG1"], "start": 8, "end": 10, "members": ["Alvaro", "Tim", "Rehan", "Mike"], "col": 0 },
                    { "name": "TCP/IP networking", "type": "course", "rooms": ["CM2"], "start": 12, "end": 14, "members": ["Alvaro", "Tim", "Rehan", "Mike", "Jon"], "col": 1 },
                    { "name": "Machine learning", "type": "exercise", "rooms": ["INF119", "INJ218", "INM11", "INM20"], "start": 14, "end": 16, "members": ["Kim", "Jon"], "col": 1 },
                    { "name": "Machine learning", "type": "course", "rooms": ["CO1"], "start": 16, "end": 18, "members": ["Kim", "Jon"], "col": 1 },
                    { "name": "Cryptography and security", "type": "course", "rooms": ["CM3"], "start": 10, "end": 12, "members": ["Alvaro", "Jon"], "col": 1 },
                    { "name": "Intelligent agents", "type": "exercise", "rooms": ["INM200", "INM203"], "start": 13, "end": 16, "members": ["Rehan"], "col": 2 },
                    { "name": "Fundamentals of VLSI design", "type": "course", "rooms": ["ELD020, ELG116"], "start": 16, "end": 18, "members": ["Jon"], "col": 2 },
                    { "name": "Markov chains and algorithmic applications", "type": "course", "rooms": ["INM202"], "start": 12, "end": 14, "members": ["Rehan", "Lucie"], "col": 3 },
                    { "name": "Hardware systems modeling I", "type": "course", "rooms": ["DIA003, ELD020"], "start": 14, "end": 16, "members": ["Jon"], "col": 3 },
                    { "name": "Automatic speech processing", "type": "course", "rooms": ["INF1"], "start": 13, "end": 16, "members": ["Lucie"], "col": 4 }]
            },
            {
                "name": "Friday", "conflicts": 4, "courses": [
                    { "name": "Cryptography and security", "type": "exercise", "rooms": ["CM1"], "start": 9, "end": 11, "members": ["Alvaro", "Jon"], "col": 0 },
                    { "name": "TCP/IP networking", "type": "exercise", "rooms": ["INF1", "INF2"], "start": 11, "end": 13, "members": ["Alvaro", "Rehan", "Mike", "Jon"], "col": 0 },
                    { "name": "Decentralized systems engineering", "type": "exercise", "rooms": ["INF213"], "start": 13, "end": 15, "members": ["Thierry", "Romain"], "col": 0 },
                    { "name": "Decentralized systems engineering", "type": "project", "rooms": ["INF213"], "start": 15, "end": 17, "members": ["Thierry", "Romain"], "col": 0 },
                    { "name": "Digital 3D geometry processing", "type": "exercise", "rooms": ["CM013"], "start": 10, "end": 12, "members": ["Tim"], "col": 1 },
                    { "name": "Applied data analysis", "type": "project", "rooms": ["BCH2201"], "start": 13, "end": 15, "members": ["Alvaro", "Tim", "Rehan", "Mike"], "col": 1 },
                    { "name": "Markov chains and algorithmic applications", "type": "course", "rooms": ["INM202"], "start": 15, "end": 17, "members": ["Rehan", "Lucie"], "col": 1 },
                    { "name": "ICC MX", "type": "work", "rooms": ["CM4"], "start": 10, "end": 11, "members": ["Lucie"], "col": 2 },
                    { "name": "ICC MT+EL", "type": "work", "rooms": [], "start": 14, "end": 16, "members": ["Tim", "Kim", "Lucie"], "col": 2 },
                    { "name": "Fundamentals of VLSI design", "type": "course", "rooms": ["ELD020, ELD120"], "start": 12, "end": 13, "members": ["Jon"], "col": 2 },
                    { "name": "Fundamentals of VLSI design", "type": "exercise", "rooms": ["ELD020, ELD120"], "start": 13, "end": 14, "members": ["Jon"], "col": 2 },
                    { "name": "Embedded Systems", "type": "work", "rooms": ["INF3"], "start": 10, "end": 12, "members": ["Jon"], "col": 3 },
                    { "name": "Experience Design", "type": "course", "rooms": ["DIA005"], "start": 13, "end": 15, "members": ["Alvaro", "Kim"], "col": 3 },
                    { "name": "Experience Design", "type": "project", "rooms": ["DIA005"], "start": 15, "end": 18, "members": ["Alvaro", "Kim"], "col": 3 }]
            }]

            buildSchedule(data, document.querySelector('.chart'), document.querySelector('.people'))
        </script>
    </body>
</html>
